<div class="table-container">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
  
      <!-- Serial Number Column -->
      <ng-container matColumnDef="sno">
        <th mat-header-cell *matHeaderCellDef> S.no </th>
        <td mat-cell *matCellDef="let element; let i = index"> {{ i + 1 }} </td>
      </ng-container>
  
      <!-- Item Details Dropdown -->
      <ng-container matColumnDef="itemDetails">
        <th mat-header-cell *matHeaderCellDef> Item Details </th>
        <td mat-cell *matCellDef="let element">
          <mat-form-field appearance="fill" class="full-width">
            <mat-select [(value)]="element.itemName" placeholder="Item Name">
              <mat-option *ngFor="let item of itemNames" [value]="item">{{ item }}</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="fill" class="full-width">
            <mat-select [(value)]="element.itemCode" placeholder="Item Code">
              <mat-option *ngFor="let code of itemCodes" [value]="code">{{ code }}</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="fill" class="full-width">
            <mat-select [(value)]="element.uom" placeholder="UOM">
              <mat-option *ngFor="let uom of uoms" [value]="uom">{{ uom }}</mat-option>
            </mat-select>
          </mat-form-field>
        </td>
      </ng-container>
  
      <!-- Tech. Specification Description Box -->
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef> Tech. Specification </th>
        <td mat-cell *matCellDef="let element">
          <mat-form-field appearance="fill" class="full-width">
            <textarea matInput placeholder="Description" [(ngModel)]="element.description"></textarea>
          </mat-form-field>
        </td>
      </ng-container>
  
      <!-- Make Dropdown -->
      <ng-container matColumnDef="make">
        <th mat-header-cell *matHeaderCellDef> Make </th>
        <td mat-cell *matCellDef="let element">
          <mat-form-field appearance="fill" class="full-width">
            <mat-select [(value)]="element.make" placeholder="Make">
              <mat-option *ngFor="let make of makes" [value]="make">{{ make }}</mat-option>
            </mat-select>
          </mat-form-field>
        </td>
      </ng-container>
  
      <!-- Spacer Column -->
      <ng-container matColumnDef="spacer">
        <th mat-header-cell *matHeaderCellDef class="spacer"> </th>
        <td mat-cell *matCellDef="let element" class="spacer"> </td>
      </ng-container>
  
      <!-- UOM Dropdown -->
      <ng-container matColumnDef="uom">
        <th mat-header-cell *matHeaderCellDef> UOM </th>
        <td mat-cell *matCellDef="let element">
          <mat-form-field appearance="fill" class="full-width">
            <mat-select [(value)]="element.uom" placeholder="UOM">
              <mat-option *ngFor="let uom of uoms" [value]="uom">{{ uom }}</mat-option>
            </mat-select>
          </mat-form-field>
        </td>
      </ng-container>
  
      <!-- Qty Textbox -->
      <ng-container matColumnDef="quantity">
        <th mat-header-cell *matHeaderCellDef> Qty </th>
        <td mat-cell *matCellDef="let element">
          <mat-form-field appearance="fill" class="full-width">
            <input matInput type="number" [(ngModel)]="element.quantity" (ngModelChange)="updateAmount(element)" />
          </mat-form-field>
        </td>
      </ng-container>
  
      <!-- Rate Textbox -->
      <ng-container matColumnDef="rate">
        <th mat-header-cell *matHeaderCellDef> Rate </th>
        <td mat-cell *matCellDef="let element">
          <mat-form-field appearance="fill" class="full-width">
            <input matInput type="number" [(ngModel)]="element.rate" (ngModelChange)="updateAmount(element)" />
          </mat-form-field>
        </td>
      </ng-container>
  
      <!-- Amount Textbox -->
      <ng-container matColumnDef="amount">
        <th mat-header-cell *matHeaderCellDef> Amount </th>
        <td mat-cell *matCellDef="let element"> {{ element.amount }} </td>
      </ng-container>
  
      <!-- Required On Datepicker -->
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef> Required On </th>
        <td mat-cell *matCellDef="let element">
          <mat-form-field appearance="fill" class="full-width">
            <input matInput [matDatepicker]="picker" [(ngModel)]="element.date">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
        </td>
      </ng-container>
  
      <!-- Remark -->
      <!-- <ng-container matColumnDef="remark">
        <th mat-header-cell *matHeaderCellDef> Remark </th>
        <td mat-cell *matCellDef="let element"> OK </td>
      </ng-container> -->

      <ng-container matColumnDef="remark">
        <th mat-header-cell *matHeaderCellDef> Remark </th>
        <td mat-cell *matCellDef="let element">
          <mat-form-field appearance="fill" class="full-width">
            <textarea matInput placeholder="remark" [(ngModel)]="element.remark"></textarea>
          </mat-form-field>
        </td>
      </ng-container>
  
      <!-- Actions Column -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> Actions </th>
        <td mat-cell *matCellDef="let element; let i = index">
          <button mat-raised-button color="warn" (click)="deleteRow(i)">Delete</button>
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
  
  <button mat-raised-button color="primary" (click)="addRow()">Add Row</button> &nbsp;
  <button type="submit" mat-raised-button color="primary" (click)="addJob()" >Submit</button>
  
  <!-- <div>
    <strong>Net Amount:</strong> {{ netAmount }}
  </div> -->
  